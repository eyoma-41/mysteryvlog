<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>미스터리 브이로그 — 대시보드</title>
  <style>
    :root{--bg:#fff;--text:#111318;--muted:#6b7280;--border:#e6e8eb;--brand:#ff0033;--card:#f7f7f8;--shadow:0 1px 2px rgba(0,0,0,.06);--r:18px}
    *{box-sizing:border-box} body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Pretendard,system-ui,"Noto Sans KR",sans-serif;color:var(--text);background:var(--bg)}
    .app{max-width:720px;margin:0 auto;padding-bottom:88px}
    .top{position:sticky;top:0;z-index:10;background:#fff;border-bottom:1px solid var(--border);display:flex;gap:10px;align-items:center;padding:12px 16px}
    .mark{display:flex;align-items:center;gap:10px;font-weight:800;font-size:20px}
    .logo{width:26px;height:18px;border-radius:6px;background:var(--brand);position:relative}
    .logo:after{content:"";position:absolute;left:9px;top:3px;border-left:8px solid #fff;border-top:6px solid transparent;border-bottom:6px solid transparent}

    /* 프로필 행만 남김 */
.hero{padding:8px 16px 4px;}               /* 기존 12px → 8/4로 타이트하게 */
    .sec-title{padding:6px 16px 4px;}          /* 제목도 살짝 타이트 *
    .ch{display:flex;gap:14px;align-items:center}
.avatar {
  width: 80px;              /* 필요하면 크기 조정 */
  height: 80px;
  border-radius: 50%;
  border: 3px solid #fff;
  background: #ddd center/cover no-repeat;
  box-shadow: 0 1px 2px rgba(0,0,0,.06);
}
.page{display:none}
.page.active{display:block}

/* 리플레이 카드 리스트(그대로) */
.cards{display:flex;gap:12px;overflow-x:auto;padding:0 16px 6px;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch}

/* 카드: 얇은 폰트 + 작은 글자 + 좌상단 정렬 */
.card{
  flex:0 0 auto; scroll-snap-align:start;
  width:160px; height:110px;
  border:1px solid var(--border); border-radius:16px; background:#fff; box-shadow:var(--shadow);
  display:flex; align-items:flex-start; justify-content:flex-start;   /* 좌상단 정렬 */
  text-align:left; padding:10px 12px;
  font-weight:300;                 /* 라이트 */
  font-size:12px; line-height:1.28;/* 작게 */
  cursor:pointer; user-select:none;
}
.card:active{transform:scale(.98)}
.card.is-selected{outline:2px solid var(--brand);outline-offset:0}


    .ch-meta{display:flex;flex-direction:column;gap:4px}
    .title{font-size:22px;font-weight:900}
    .subs{color:var(--muted);font-size:14px}

    .sec-title{font-weight:900;padding:8px 16px 6px}
    .hbar{display:flex;gap:10px;overflow-x:auto;padding:0 16px 8px;scroll-snap-type:x mandatory}
    .pill{flex:0 0 auto;scroll-snap-align:start;padding:10px 14px;border:1px solid var(--border);border-radius:999px;background:#fff;font-weight:700;font-size:14px;cursor:pointer;user-select:none}
    .pill.active{background:var(--brand);color:#fff;border-color:var(--brand)}
/* 패널은 길게 스크롤 되도록 */
.panel{margin:8px 16px 14px;background:var(--card);border:1px solid var(--border);border-radius:var(--r);padding:16px;min-height:90px;
  max-height:55vh; overflow:auto; -webkit-overflow-scrolling:touch}
.panel h3{margin:0 0 10px 0}
.panel p{margin:0 0 12px 0}
    .tabs{position:fixed;left:0;right:0;bottom:0;background:#fff;border-top:1px solid var(--border);display:grid;grid-template-columns:repeat(5,1fr);height:72px}
    .tab{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:6px;font-size:12px;color:#333;text-decoration:none}
    .tab svg{width:22px;height:22px}
    .tab.active{color:var(--brand);font-weight:800}
  </style>
</head>
<body>
  <div class="app">
    <header class="top">
      <div class="mark"><span class="logo"></span><span>Studio</span></div>
      <div style="margin-left:auto;display:flex;gap:8px">
        <button title="새로 만들기" aria-label="새로 만들기" class="pill" style="padding:6px 10px">+</button>
      </div>
    </header>

    <!-- 프로필만 표시 -->
    <section class="hero" aria-label="채널 헤더">
<div
  id="avatar"
  class="avatar"
  style="background-image:url('/hero-book.jpg')">
</div>


        <div class="ch-meta">
          <div class="title" id="title">미스터리 브이로그</div>
          <div class="subs">구독자 <strong id="subs">320,158</strong></div>
        </div>
      </div>
    </section>

<h2 class="sec-title">미스터리 브이로그: 리플레이</h2>
<div class="cards" id="replay-cards" aria-label="리플레이 목록"></div>
<div id="panel" class="panel" role="region" aria-live="polite">
  <div class="hint">네모 박스를 눌러 내용을 표시합니다. (나중에 글 넣는 영역)</div>
</div>

<script>
  // ------- 리플레이 카드 데이터 & 본문(긴 텍스트) -------
  const replayData = [
    { title:"타임라인", body:`긴 텍스트 예시입니다. 시작—아래 내용은 스크롤로 이어집니다.
프로젝트의 주요 시점들을 나열하고, 각 시점의 결정과 수정사항을 기록합니다.
1) 프리프로덕션: 아이디어 수집, 포맷 정의, 테스트 촬영
2) 파일럿: 업로드 주기, 컷 편집 규칙, 썸네일 룩앤필
3) 본편: 시즌/에피소드 체계, 데이터 기반 개선
4) 회고: 실패/성공 포인트, 다음 스텝 … (계속)`},

    { title:"왜 쓰는가?", body:`기획의 목적을 분명히 적어 유지보수 시 기준점으로 씁니다.
- 기록을 통한 정체성 강화
- 반복되는 질문에 대한 표준 답변 확보
- 협업자 온보딩용 핵심 문서화
- 관객과의 약속(업로드 리듬, 톤앤매너) …`},

    { title:"무엇을 쓰지", body:`콘텐츠 재료와 금지 리스트를 함께 정의합니다.
• 사용하는 재료: 브이로그, 비하인드, 인터뷰, 메모 보이스오버
• 금지: 개인 신상 민감정보, 스포일러, 확인되지 않은 루머 …`},

    { title:"어떻게 바꾸지", body:`변경 프로세스(제안→검토→실험→결정)를 명문화합니다.
- 실험 기간: 2주
- 측정 기준: CTR, 평균시청시간, 재방문율
- 롤백 기준: 지표 하락 10% 이상, 시청자 피드백 부정적 …`},

    { title:"계약을 하려고", body:`파트너/스폰서/플랫폼 계약 전 체크리스트.
1) 권리: 2차 저작물, 클립 사용 범위
2) 기간: 독점/비독점, 지역 제한
3) 리스크: 광고 표기, 리뷰 공정성, 해지 조항 …`},

    { title:"작업하는 마음", body:`번아웃을 피하기 위한 운영 규칙.
- 제작/휴식 리듬: 3:1
- ‘완벽’보다 ‘일관성’ 우선
- 주간 목표: 1) 초안 2) 러프컷 3) 공개 …`},

    { title:"책이 나오고", body:`출간 연계 활동 플랜.
- 연재와 책의 경계: 스포일러 가이드
- 이벤트: 북토크, 사인회, 밈 공모
- ROI: 트래픽→구매 전환 경로 설계 …`}
  ];

  const panelEl = document.getElementById('panel');
  const listEl  = document.getElementById('replay-cards');

  // 카드 렌더
  replayData.forEach((item, idx) => {
    const b = document.createElement('button');
    b.type = 'button';
    b.className = 'card';
    b.textContent = item.title;
    b.setAttribute('aria-label', item.title + ' 보기');
    b.addEventListener('click', () => {
      document.querySelectorAll('.card').forEach(c => c.classList.remove('is-selected'));
      b.classList.add('is-selected');
      // 긴 텍스트 출력 (스크롤 가능)
      panelEl.innerHTML = `<h3>${item.title}</h3>` +
        item.body.split('\n').map(t=>`<p>${t.trim()}</p>`).join('');
      // 패널 맨 위로
      panelEl.scrollTo({ top: 0, behavior: 'auto' });
    });
    listEl.appendChild(b);
  });

  // 첫 카드 자동 선택(원하면 유지/삭제)
  if (listEl.firstElementChild) listEl.firstElementChild.click();

  // 드래그 스크롤(데스크탑용) — 모바일은 기본 터치 스크롤
  (function enableDragScroll(container){
    let isDown = false, startX = 0, startScroll = 0, pid = null;
    container.addEventListener('pointerdown', e => {
      isDown = true; startX = e.clientX; startScroll = container.scrollLeft;
      pid = e.pointerId; container.setPointerCapture(pid); container.style.cursor='grabbing';
    });
    container.addEventListener('pointermove', e => { if (isDown) container.scrollLeft = startScroll - (e.clientX - startX); });
    ['pointerup','pointercancel','pointerleave'].forEach(ev => container.addEventListener(ev, () => {
      isDown = false; if(pid) container.releasePointerCapture(pid); container.style.cursor='auto';
    }));
  })(listEl);
</script>


<!-- 👉 밈 페이지 -->
<section id="page-meme" class="page">
  <h2 class="sec-title">밈</h2>
  <div id="meme-list" style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;padding:0 16px 90px">
    <!-- 카드 예시 -->
    <a class="panel" href="https://www.youtube.com/watch?v=MZcAnvE4gQ4" target="_blank" style="text-decoration:none;color:inherit">
      <div style="aspect-ratio:16/9;background:#eee url('https://img.youtube.com/vi/MZcAnvE4gQ4/hqdefault.jpg') center/cover no-repeat;border-radius:12px"></div>
      <div style="margin-top:8px;font-weight:700">p136 무… 무슨</div>
      <div style="color:#6b7280;font-size:12px">YouTube</div>
    </a>
  </div>
</section>

<!-- 👉 레퍼런스 페이지 -->
<section id="page-ref" class="page">
  <h2 class="sec-title">레퍼런스</h2>
  <div class="panel"><p>레퍼런스 자료를 여기에 카드/링크로 쌓아갈게.</p></div>
</section>

<!-- 👉 비하인드 페이지 -->
<section id="page-behind" class="page">
  <h2 class="sec-title">비하인드</h2>
  <div class="panel"><p>비하인드 스토리/사진/노트 영역.</p></div>
</section>

<!-- 👉 수익창출 페이지 -->
<section id="page-revenue" class="page">
  <h2 class="sec-title">수익창출</h2>
  <div class="panel"><p>광고 수익/후원/굿즈 등 지표나 링크 넣기.</p></div>
</section>

  
  <!-- 하단 탭 -->
  <nav class="tabs" aria-label="하단 메뉴">
    <a class="tab active" href="#"><svg viewBox="0 0 24 24"><path d="M4 12.5a1 1 0 0 1 .4-.8l7-5a1 1 0 0 1 1.2 0l7 5a1 1 0 0 1 .4.8V19a1 1 0 0 1-1 1h-4v-6H9v6H5a1 1 0 0 1-1-1v-6.5Z" fill="currentColor"/></svg>대시보드</a>
    <a class="tab" href="#"><svg viewBox="0 0 24 24"><path d="M3 7h18M7 3v18M3 12h18M3 17h12" stroke="currentColor" stroke-width="2" fill="none"/></svg>밈</a>
    <a class="tab" href="#"><svg viewBox="0 0 24 24"><path d="M5 4h14v16H5zM8 8h8M8 12h8M8 16h8" stroke="currentColor" stroke-width="2" fill="none"/></svg>레퍼런스</a>
    <a class="tab" href="#"><svg viewBox="0 0 24 24"><path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2" fill="none"/></svg>비하인드</a>
    <a class="tab" href="#"><svg viewBox="0 0 24 24"><path d="M4 18s3-6 8-6 8 6 8 6M10 9a2 2 0 1 0 4 0 2 2 0 0 0-4 0Z" stroke="currentColor" stroke-width="2" fill="none"/></svg>수익창출</a>
  </nav>

  <script>
    // --- 기본 표시(콘텐츠가 없어도 보이게) ---
    document.getElementById('title').textContent = '미스터리 브이로그';
    document.getElementById('subs').textContent = '320,158';
    // 프로필 이미지: Vite/정적 배포 모두 커버 (public/ 또는 루트)
    const candidates = ['/hero-book.jpg', './hero-book.jpg'];
    (async () => {
      for (const url of candidates) {
        try { const r = await fetch(url, { method:'HEAD' }); if (r.ok) { document.getElementById('avatar').style.backgroundImage = `url('${url}')`; break; } } catch(e){}
      }
    })();

    // 분석 버튼 클릭 시 내용
    const panel = document.getElementById('panel');
    const pills = document.querySelectorAll('.hbar .pill');
    const contentByKey = {
      views:"지난 28일 기준 조회수: 0 (샘플 텍스트)",
      watch:"시청 시간: 0.0시간 (샘플 텍스트)",
      subsbtn:"신규 구독자: 0명 (샘플 텍스트)",
      top:"인기 영상 영역 — 추후 카드/리스트 추가",
      rev:"수익 추정 영역 — 추후 지표 추가"
    };
    function setPanel(key){ panel.innerHTML = "<p>"+(contentByKey[key]||"내용 준비 중")+"</p>"; }
    setPanel('views'); // 초기 내용

    pills.forEach(btn=>{
      btn.addEventListener('click',()=>{
        pills.forEach(b=>{b.classList.remove('active');b.setAttribute('aria-selected','false');});
        btn.classList.add('active');btn.setAttribute('aria-selected','true');
        setPanel(btn.dataset.key);
      });
    });

    // (선택사항) content.json이 있으면 제목/숫자 덮어쓰기
    (async () => {
      try{
        const r = await fetch('/content.json', { cache:'no-store' });
        if (!r.ok) return;
        const data = await r.json();
        if (data.channelName) document.getElementById('title').textContent = data.channelName;
        if (data.subscribers) document.getElementById('subs').textContent = Number(data.subscribers).toLocaleString();
      }catch(_){} // 없어도 조용히 통과
    })();
    <script>
  // ---- 탭 네비게이션 (페이지 전환) ----
  const pages = {
    dashboard: document.getElementById('page-dashboard') || document.querySelector('.app'), // 대시보드는 기존 영역
    meme: document.getElementById('page-meme'),
    ref: document.getElementById('page-ref'),
    behind: document.getElementById('page-behind'),
    revenue: document.getElementById('page-revenue'),
  };

  // 대시보드만 보이게 초기화
  Object.entries(pages).forEach(([key,el])=>{
    if(!el) return;
    el.classList.toggle('active', key==='dashboard');
    // 대시보드는 .page가 아닐 수 있으니 없는 경우는 패스
    if(el.classList.contains('page')===false && key!=='dashboard'){
      el.classList.add('page');
    }
  });

  // 탭 클릭 처리
  document.querySelectorAll('.tabs .tab').forEach(tab=>{
    tab.addEventListener('click', (e)=>{
      e.preventDefault();
      const key = tab.dataset.page;
      // 탭 active 처리
      document.querySelectorAll('.tabs .tab').forEach(t=>t.classList.remove('active'));
      tab.classList.add('active');

      // 페이지 토글
      Object.entries(pages).forEach(([k,el])=>{
        if(!el) return;
        const show = (k===key) || (k==='dashboard' && key==='dashboard');
        el.classList.toggle('active', show);
      });
      // 스크롤 상단으로
      window.scrollTo({top:0, behavior:'smooth'});
    });
  });
</script>

  </script>

</body>
</html>
