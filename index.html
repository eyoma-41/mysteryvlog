<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>미스터리 브이로그 — 대시보드</title>

  <!-- Google Fonts: Noto Sans KR -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700;900&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#fff;--text:#111318;--muted:#6b7280;--border:#e6e8eb;--brand:#ff0033;
      --card:#f7f7f8;--shadow:0 1px 2px rgba(0,0,0,.06);--r:18px
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:"Noto Sans KR",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,system-ui,"Noto Sans KR",sans-serif;
      color:var(--text);background:var(--bg)
    }
    .app{max-width:720px;margin:0 auto;padding-bottom:88px}

    /* 헤더 */
    .top{position:sticky;top:0;z-index:10;background:#fff;border-bottom:1px solid var(--border);display:flex;gap:10px;align-items:center;padding:12px 16px}
    .mark{display:flex;align-items:center;gap:10px;font-weight:800;font-size:20px}
    .logo{width:26px;height:18px;border-radius:6px;background:var(--brand);position:relative}
    .logo:after{content:"";position:absolute;left:9px;top:3px;border-left:8px solid #fff;border-top:6px solid transparent;border-bottom:6px solid transparent}

    /* 프로필 */
    .hero{padding:8px 16px 4px}
    .ch{display:flex;gap:14px;align-items:center}
    .avatar{width:80px;height:80px;border-radius:50%;border:3px solid #fff;background:#ddd center/cover no-repeat;box-shadow:var(--shadow)}
    .ch-meta{display:flex;flex-direction:column;gap:4px}
    .title{font-size:22px;font-weight:900}
    .subs{color:var(--muted);font-size:14px}

    /* 섹션 타이틀 (구독자 아래 간격 2행 정도) */
    .sec-title{font-weight:900;padding:0 16px;margin:24px 0 6px} /* ← margin-top 24px */

:root {
  /* 기본 폰트 사이즈 & 굵기 설정 */
  --font-size-base: 14px;
  --font-size-sm: 12px;
  --font-size-md: 16px;
  --font-size-lg: 20px;
  --font-size-xl: 28px;

  --font-weight-light: 300;
  --font-weight-regular: 400;
  --font-weight-bold: 700;
  --font-weight-black: 900;

  --line-height-tight: 1.2;
  --line-height-normal: 1.5;
  --line-height-loose: 1.8;
}

/* 전역 폰트 패밀리 */
body {
  font-family: "Noto Sans KR", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, system-ui, sans-serif;
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-regular);
  line-height: var(--line-height-normal);
}

/* 폰트 사이즈 유틸리티 */
.text-sm  { font-size: var(--font-size-sm); }
.text-md  { font-size: var(--font-size-md); }
.text-lg  { font-size: var(--font-size-lg); }
.text-xl  { font-size: var(--font-size-xl); }

/* 폰트 두께 유틸리티 */
.font-light   { font-weight: var(--font-weight-light); }
.font-regular { font-weight: var(--font-weight-regular); }
.font-bold    { font-weight: var(--font-weight-bold); }
.font-black   { font-weight: var(--font-weight-black); }

/* 줄 간격 유틸리티 */
.leading-tight  { line-height: var(--line-height-tight); }
.leading-normal { line-height: var(--line-height-normal); }
.leading-loose  { line-height: var(--line-height-loose); }

    
    /* 리플레이 카드 */
    .cards{
      display:flex;gap:12px;overflow-x:auto;padding:0 16px 6px;
      scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch;
      position:relative;z-index:1;user-select:none;-webkit-user-select:none;
      touch-action: pan-x; /* 모바일/PC 동시 스크롤 제스처 */
    }
    .card{
      flex:0 0 auto;scroll-snap-align:start;width:160px;height:110px;border:1px solid var(--border);
      border-radius:16px;background:#fff;box-shadow:var(--shadow);display:flex;align-items:flex-start;justify-content:flex-start;
      text-align:left;padding:10px 12px;font-weight:300;font-size:12px;line-height:1.28;cursor:pointer;user-select:none;position:relative
    }
    .card:active{transform:scale(.985)}
/* 기존 .cards 를 아래로 교체 */
.cards{
  display:flex;gap:12px;overflow-x:auto;
  /* ⬇️ 위아래 패딩 추가해서 선택 링이 잘리지 않게 */
  padding:8px 16px 10px;
  scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch;
  position:relative;z-index:1;user-select:none;-webkit-user-select:none;
  touch-action: pan-x;
}

/* 기존 .card.is-selected 를 아래로 교체 */
.card.is-selected{
  /* ⬇️ outline 대신 border 색 변경 + 바깥쪽 소프트 링 */
  border-color: var(--brand);
  outline: none;
  box-shadow: 0 0 0 2px rgba(255,0,51,.25);
}

    /* 본문 패널 (스크롤 가능) */
    .panel{margin:8px 16px 14px;background:var(--card);border:1px solid var(--border);border-radius:var(--r);padding:16px;min-height:120px;max-height:55vh;overflow:auto;-webkit-overflow-scrolling:touch}
    .panel h3{margin:0 0 10px}
    .panel p{margin:0 0 12px}

    /* 하단 탭바 */
    .tabs{position:fixed;left:0;right:0;bottom:0;background:#fff;border-top:1px solid var(--border);display:grid;grid-template-columns:repeat(5,1fr);height:72px}
    .tab{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:6px;font-size:12px;color:#333;text-decoration:none}
    .tab svg{width:22px;height:22px}
    .tab.active{color:var(--brand);font-weight:800}
  </style>
</head>
<body>
  <div class="app">
    <header class="top" role="banner">
      <div class="mark"><span class="logo"></span><span>Studio</span></div>
      <div style="margin-left:auto;display:flex;gap:8px">
        <button title="새로 만들기" aria-label="새로 만들기" style="padding:6px 10px;border:1px solid var(--border);background:#fff;border-radius:999px;cursor:pointer">+</button>
      </div>
    </header>

    <!-- 프로필 -->
    <section class="hero" aria-label="채널 헤더">
      <div class="ch">
        <div id="avatar" class="avatar" style="background-image:url('/hero-book.jpg')"></div>
        <div class="ch-meta">
          <div class="title" id="title">미스터리 브이로그</div>
          <div class="subs">구독자 <strong id="subs">320,158</strong></div>
        </div>
      </div>
    </section>

    <!-- 리플레이 -->
    <h2 class="sec-title" id="replay-title">미스터리 브이로그: 리플레이</h2>
    <div class="cards" id="replay-cards" aria-label="리플레이 목록"></div>
    <div id="panel" class="panel" role="region" aria-live="polite">
      <div class="hint">네모 박스를 눌러 내용을 표시합니다.</div>
    </div>
  </div>

  <!-- 하단 탭: 각기 다른 페이지로 이동 -->
  <nav class="tabs" aria-label="하단 메뉴">
    <a class="tab active" href="index.html" data-page="dashboard" aria-current="page">
      <svg viewBox="0 0 24 24"><path d="M4 12.5a1 1 0 0 1 .4-.8l7-5a1 1 0 0 1 1.2 0l7 5a1 1 0 0 1 .4.8V19a1 1 0 0 1-1 1h-4v-6H9v6H5a1 1 0 0 1-1-1v-6.5Z" fill="currentColor"/></svg>
      대시보드
    </a>
    <a class="tab" href="meme.html" data-page="meme">
      <svg viewBox="0 0 24 24"><path d="M3 7h18M7 3v18M3 12h18M3 17h12" stroke="currentColor" stroke-width="2" fill="none"/></svg>
      밈
    </a>
    <a class="tab" href="reference.html" data-page="ref">
      <svg viewBox="0 0 24 24"><path d="M5 4h14v16H5zM8 8h8M8 12h8M8 16h8" stroke="currentColor" stroke-width="2" fill="none"/></svg>
      레퍼런스
    </a>
    <a class="tab" href="behind.html" data-page="behind">
      <svg viewBox="0 0 24 24"><path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2" fill="none"/></svg>
      비하인드
    </a>
    <a class="tab" href="revenue.html" data-page="revenue">
      <svg viewBox="0 0 24 24"><path d="M4 18s3-6 8-6 8 6 8 6M10 9a2 2 0 1 0 4 0 2 2 0 0 0-4 0Z" stroke="currentColor" stroke-width="2" fill="none"/></svg>
      수익창출
    </a>
  </nav>

<script>
  // ---------- 리플레이 데이터 ----------
  const replayData = [
    { title:"타임라인", body:`2021. 03.
스쿠버다이빙 중에 수면에서 냉동 인간들이 내려오는 악몽을 꿈.
2021. 04. 18 ~ 25
꿈 꾼 내용을 소설 창작 소모임 카페에 조각글 ‘차가운 바다의 비밀’로 기록함.
2022. 03. 17~05. 12
번아웃 극복해보려 한겨레교육 김성중 작가의 상상력 발전소 2호기 합평 수업 수강
2022. 03. 31
작중 타임캡슐 소재의 씨앗이 되는 조각글 ‘컬을 찾아서’ 메모장에 기록.
2022. 04. 14
칼슨 패밀리가 미스터리 스팟을 찾는 「다이빙 엘」단편 초고 완성, 합평 받음.
2022. 05. 26~07. 14
한겨레교육 이야기를 여행하는 히치하이커를 위한 안내서 vol. 2 [심화반] 합평 수업 수강
2022. 06. 
회사 퇴사.
2022. 07. 11
「다이빙 엘」을 개작한 중편 「가디언즈 프로젝트」 미완성 초고 합평 받음. 
2022. 07. 29
강릉 여행, 운망 해변 방풍림의 배경이 되는 경포대 방풍림 답사.
2023. 01.
공모전 도전 결심. 청소년 장편 소설 공모전 도전
2023. 01. 30~02. 02
묵호 글쓰기 캠프. 
2023. 02. 26
원고 『가디언즈 프로젝트』로 투고.
2023. 05. 11
공모전 낙선 후 『가디언즈 프로젝트』 밀리로드 무료 연재 시작.
2023. 05. 30
A사 출간 미팅, 계약 논의 중 B사 출간 미팅 제안.
2023. 06. 27
B사 출간 미팅, 원고 검토를 위한 샘플 원고 요청하여 작업 시작
2023. 08. 21
샘플 원고 『실패하지 않는 방송부』약 400매 작성 후 폐기, 계약 결렬.
2023. 09. 07
A사 재미팅, 계약 불가 및 투고 시 검토로 스탠스 바꿈.
2023. 10~12
수정, 공모전 응모를 전전하다가 투고로 가닥 잡음.
2024. 01. 10
A사에 개작한 원고 『하이드 온 월드』 투고.
2024. 02. 28
A사 원고 최종 반려.
2024. 03~07
출판사 원고 투고 계속.
2024. 07. 01
W출판사 『하이드 온 월드』 투고.
2024. 09. 10
W출판사 출간 미팅 및 계약.
2025. 04. 30
『미스터리 브이로그』 출간.
` },
    { title:"왜 쓰는가?", body:`<p class="text-xl font-black leading-tight">올해는 신춘문예 내야지: 조각글 쓰기</p>
2021
<p class="text-md font-light leading-normal">문학에 뜻을 품어본 사람이라면 가을만 되면 어쩐지 두려워지는 느낌을 받을 것이다...</p>
<p class="text-md font-light leading-normal">2015년, 처음 작가의 꿈을 품은 이래 나는 ‘이번엔 써야지.’...</p>
<p class="text-md font-light leading-normal">그래도 소위 자신이 젊은 시절 ‘문학 청년’이었다고...</p>
<p class="text-md font-light leading-normal">조각글 쓰기는 ‘작가’라는 꿈을 간당간당하게 유지시키는...</p>
<p class="text-md font-light leading-normal">회사의 직급이 오르고...</p>
<br/>
<p class="text-xl font-black leading-tight">갑자기 찾아온 우울증 + 한겨레교육 합평 수업</p>
2022.03
<p class="text-md font-light leading-normal">그러던 어느 날, 예고도 없이 번아웃이 찾아왔다...</p>
<br/>
<p class="text-xl font-black leading-tight">낡아버린 아이디어와 프리퀄</p>
2022.03~05
<p class="text-md font-light leading-normal">2015~2016년, 대학 창작 동아리에 몸담고 있을 때 나는 장편 소설을...</p>
<p class="text-md font-light leading-normal">“와. 미친.”</p>
<p class="text-md font-light leading-normal">‘미친, 이렇게 잘 쓰던 시절이 있었다니?’라는 감탄이었을까?...</p>
<p class="text-md font-light leading-normal">시대착오적인 표현이나 낡은 묘사를 덜어내고...</p>
<p class="text-md font-light leading-normal">어디서부터 새로 써야 할까 고민한 끝에...</p>` },
    { title:"무엇을 쓰지", body:`여기에 '무엇을 쓰지' 내용` },
    { title:"어떻게 바꾸지", body:`여기에 '어떻게 바꾸지' 내용` },
    { title:"계약을 하려고",  body:`여기에 '계약을 하려고' 내용` },
    { title:"작업하는 마음",  body:`여기에 '작업하는 마음' 내용` },
    { title:"책이 나오고",    body:`여기에 '책이 나오고' 내용` }
  ];

  const listEl  = document.getElementById('replay-cards');
  const panelEl = document.getElementById('panel');

  const slug = s => String(s).replace(/\s+/g,'-')
    .replace(/[^\w\u3131-\uD79D-]/g,'').toLowerCase();

  // title에 HTML이 들어와도 버튼 라벨은 텍스트만 쓰기
  const toPlain = (html) => {
    const d = document.createElement('div');
    d.innerHTML = String(html ?? '');
    return (d.textContent || d.innerText || '').trim();
  };

  // 카드 렌더 + 각 카드에 직접 클릭 리스너
  const buttons = new Map();
  replayData.forEach((item) => {
    const label = toPlain(item.title);
    const key   = slug(label);

    const b = document.createElement('button');
    b.type = 'button';
    b.className = 'card';
    b.textContent = label;
    b.dataset.key = key;
    b.setAttribute('aria-label', `${label} 보기`);

    // 드래그 중이면 클릭 무시
    b.addEventListener('click', (e)=>{
      if (drag.moved) return;
      openKey(key);
    });

    listEl.appendChild(b);
    buttons.set(key, { btn: b, data: { ...item, title: label } });
  });

  // ---- 드래그 스크롤 (컨테이너에만 적용) ----
  const drag = { down:false, startX:0, startLeft:0, moved:false };
  const TH = 6;

  // 마우스
  listEl.addEventListener('mousedown', (e)=>{
    if (e.button !== 0) return;
    drag.down = true; drag.moved = false;
    drag.startX = e.pageX; drag.startLeft = listEl.scrollLeft;
  });
  window.addEventListener('mousemove', (e)=>{
    if (!drag.down) return;
    const dx = e.pageX - drag.startX;
    if (Math.abs(dx) > TH) drag.moved = true;
    listEl.scrollLeft = drag.startLeft - dx;
  });
  window.addEventListener('mouseup', ()=>{
    drag.down = false;
    // 클릭 이벤트가 바로 이어질 때 moved 플래그가 남아있지 않도록 짧게 해제
    setTimeout(()=> drag.moved = false, 40);
  });

  // 터치
  listEl.addEventListener('touchstart', (e)=>{
    const t = e.touches[0];
    drag.down = true; drag.moved = false;
    drag.startX = t.clientX; drag.startLeft = listEl.scrollLeft;
  }, {passive:true});
  listEl.addEventListener('touchmove', (e)=>{
    if (!drag.down) return;
    const t = e.touches[0];
    const dx = t.clientX - drag.startX;
    if (Math.abs(dx) > TH) drag.moved = true;
    listEl.scrollLeft = drag.startLeft - dx;
  }, {passive:true});
  listEl.addEventListener('touchend', ()=>{
    drag.down = false;
    setTimeout(()=> drag.moved = false, 40);
  });

  // 카드 열기 (패널에 제목은 넣지 않음)
  function openKey(key, scrollCard = true) {
    const entry = buttons.get(key); if (!entry) return;

    document.querySelectorAll('.card').forEach(c => c.classList.remove('is-selected'));
    entry.btn.classList.add('is-selected');

    // body가 HTML이면 그대로, 아니면 줄바꿈을 <p>로
    const hasHTML = /<\/?[a-z][\s\S]*>/i.test(entry.data.body);
    panelEl.innerHTML = hasHTML
      ? entry.data.body
      : entry.data.body.split('\n').map(t => `<p>${t.trim()}</p>`).join('');

    panelEl.scrollTo({ top: 0, behavior: 'auto' });

    if (scrollCard) {
      entry.btn.scrollIntoView({ inline:'center', block:'nearest', behavior:'smooth' });
    }

    // 선택 테두리가 위에서 안 잘리도록 살짝 보정
    const titleEl = document.getElementById('replay-title');
    if (titleEl) {
      const top = titleEl.getBoundingClientRect().top;
      if (top < 84) window.scrollBy({ top: top - 96, behavior: 'smooth' });
    }

    history.replaceState(null, "", `#${key}`);
  }

  // 해시 진입/변경
  function initialOpen(){
    const key = (location.hash || '').replace(/^#/, '');
    if (key && buttons.has(key)) openKey(key, false);
    else {
      const firstKey = buttons.keys().next().value;
      if (firstKey) openKey(firstKey, false);
    }
  }
  window.addEventListener('hashchange', initialOpen);
  initialOpen();
</script>
</body>
</html>
